<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Viewer</title>
    <script>
        window.onload = function() {
            // Get document ID from the URL
            const urlParams = new URLSearchParams(window.location.search);
            const docId = urlParams.get('docId');

            if (docId) {
                // Make a GET request to retrieve the document data
                fetch(`https://ap-south-1.aws.data.mongodb-api.com/app/data-dhaxpni/endpoint/get_doc?arg1=${docId}`)
                    .then(response => response.json())
                    .then(data => {
                        // Populate the document header and text
                        document.getElementById('doc-header').textContent = data._id;
                        document.getElementById('doc-text').innerHTML = data.text.replace(/\n/g, '<br>');
                    })
                    .catch(error => {
                        console.error('Error fetching document:', error);
                        document.getElementById('doc-text').textContent = 'Error loading document.';
                    });
            } else {
                document.getElementById('doc-text').textContent = 'Document ID not provided.';
            }
        };
    </script>
</head>
<body>
    <h1 id="doc-header">Loading...</h1>
    <div id="doc-text">Please wait...</div>
</body>
</html>
